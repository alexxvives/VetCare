name = "vetcare-api"
main = "src/worker.js"
compatibility_date = "2023-12-01"

[env.development]
name = "vetcare-api-dev"

[env.staging]
name = "vetcare-api-staging"

[env.production]
name = "vetcare-api-prod"

# Variables (non-sensitive)
[vars]
NODE_ENV = "production"
API_VERSION = "v1"

# KV Namespaces for caching
[[kv_namespaces]]
binding = "CACHE"
id = "your_kv_namespace_id"
preview_id = "your_preview_kv_namespace_id"

# R2 Bucket for file storage
[[r2_buckets]]
binding = "UPLOADS"
bucket_name = "vetcare-uploads"
preview_bucket_name = "vetcare-uploads-preview"

# Durable Objects for real-time features
[[durable_objects.bindings]]
name = "APPOINTMENT_SYNC"
class_name = "AppointmentSync"

# Routes
[[routes]]
pattern = "api.vetcare.com/*"
zone_name = "vetcare.com"